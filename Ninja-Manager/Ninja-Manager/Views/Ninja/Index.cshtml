
@{
    ViewData["Title"] = "Ninjas";

    var errorMessage = TempData["ErrorMessage"] as string;
}

@model List<Ninja_Manager.Models.Ninja>

<h1 class="mb-4">Ninja Overview</h1>

<head>
    <link rel="icon" type="image/x-icon" href="~/img/ninja-icon.ico" />
</head>

<body>
    <div class="d-flex justify-content-start flex-wrap">
        <form asp-action="Create" method="post" class="row g-0" onsubmit="return validateForm();">
            <div class="card w-auto p-2 me-3 mb-3 position-relative">
                <img src="img/ninjaCard.png" class="card-img-top shadow-sm mb-2" style="max-width: 200px; height: auto;" />
                <div class="col-8">
                    <span class="error-message" style="color: red; display: none;"></span>
                    @if (!string.IsNullOrEmpty(errorMessage))
                    {
                        <div class="alert alert-danger error">
                            @errorMessage
                        </div>
                    }
                    <input type="text" name="name" pattern="[ A-Za-z]+" oninput="restrictToLetters(this)" maxlength="10" placeholder="Name" class="mb-1 rounded-2 p-1 inputname" />
                    <div>Gold: 1000</div>
                    <div>Strength: 0</div>
                    <div>Intelligence: 0</div>
                    <div>Agility: 0</div>
                </div>
                <button type="submit" class="rounded-2 bg-success border-0 p-1 position-absolute text-white" style="bottom: 10px; right: 10px;">
                    Create
                </button>
            </div>
        </form>

        @foreach (var ninja in Model)
        {
            <div class="card w-auto p-2 me-3 mb-3">
                <a asp-action="Inventory" class="text-reset text-decoration-none">
                <img src="img/ninjaCard.png" class="card-img-top shadow-sm mb-2" style="max-width: 200px; height: auto;" />
                <div class="col-8">
                    <h5 class="fw-bold">@ninja.Name</h5>
                    <div>Gold: @ninja.Gold</div>
                    <div>Strength: @ninja.GetStrength()</div>
                    <div>Intelligence: @ninja.GetIntelligence()</div>
                    <div>Agility: @ninja.GetAgility()</div>
                </div>
                </a>
            </div>
        }
    </div>

    <script src="js/ninjaCreate.js"></script>
</body>